# 01 AWS 인프라

# 1.1 클라우드 란?

## 1.1.1 클라우드 서비스 종류

- IaaS (Infrastructure as a Service)
    - 서버, 네트워크, 스토리지 자원을 클라우드 사업자가 제공하고 관리
    - 사용자는 가상 서버에 필요한 프로그램을 설치하여 사용 및 운영 관리 한다
- PaaS (Platform as a Service)
    - 운영체제와 개발에 필요한 미들웨어와 런타임 제공
    - 사업자가 제공하는 미들웨어와 런타임 환경에서 개발에 집중 할 수 있다.
    
    > AWS Elastic Beanstalk (어플리케이션 배포)
    > 
- Serverless 플랫폼
    - 개발에 필요한 대부분을 클라우드 사업자가 제공하고 운영 관리
    
    > AWS Lambda, AWS API Gateway (API 프록시) ← Flow Zoom
    > 
- SaaS (Software as a Service)
    - 서비스 개발을 원활히 할 수 있는 리소스 제공 및 다양한 지원을 한다.
    - [https://www.redhat.com/ko/topics/cloud-computing/what-is-saas](https://www.redhat.com/ko/topics/cloud-computing/what-is-saas)

![iaas-paas-saas-diagram4-1638x1046_0.png](https://raw.githubusercontent.com/sjsh1623/Book/master/Sources/Image/aws_basic_1_1.png)

## 1.1.2 클라우드 구현 모델

- 퍼블릭 클라우드
    - 클라우드 서비스 제공 업체가 운영 관리하며, 사용자는 해당 클라우드의 리소스를 사용하는 모델
    - 특정 기업이나 사용자를 위한 서비스가 아닌 인터넷에 접속 가능한 모든 사용자를 위한 클라우드 서비스 모델이다.
    - 서버 같은 자원은 각 서비스에서 사용자 별로 권한 관리가 되거나 격리 되어, 서비스 사용자 간에는 전혀 간섭이 없다는 장점이 있다.
    
    > [https://library.gabia.com/contents/infrahosting/9147/](https://library.gabia.com/contents/infrahosting/9147/)
    > 
- 프라이빗 클라우드
    - 사용자가 자신의 온프레미스내에 클라우드 플랫폼을 구축하여 직접 사용하는 모델
    - 제한된 네트워크 상에서 특정 기업이나 특정 사용자만을 대상으로 하는 클라우드 서비스의 자원과 데이터는 기업 내부에 저장한다.
    - 또한 기업의 자원의 제어권을 가지고 있으며 보안성이 매우 뛰어나며, 개별 고객의 상황에 맞게 클라우드 기능을 커스터마이징 할 수 있다는 장점이 있다.
    
    > [https://library.gabia.com/contents/infrahosting/9147/](https://library.gabia.com/contents/infrahosting/9147/)
    > 
- 하이브리드 클라우드
    - 퍼블릭 클라우드와 온프레미스 모두에 서비스 하는 모델
    - 최근에는 모호해진 경향이 있어 클라우드 (가상서버)와 온프레미스(물리서버)를 결합한 형태를 말하기도 한다.
    - 
    
    > [https://library.gabia.com/contents/infrahosting/9147/](https://library.gabia.com/contents/infrahosting/9147/)
    > 

# 1.2 AWS 클라우드 소개

AWS는 전 세계적으로 분포한 데이터 센터에서 다양한 서비스를 제공하고 있는 클라우드 플랫폼이다.

## 1.2.1 AWS 글로벌 인프라

- 현재 AWS 전 세계 26개의 리전과 82개의 가용 영역과 216개의 엣지 POP을 운영하고 있다.
- 각 리전은 이중화된 100GbE 케이블로 연결되어 있으며, 암호화되어 전달되고 있다. (우와)

## 1.2.2 데이터 센터

- 물리 영역
    
    물리적인 보안과 전력, 냉난반등 건물을 운영하는 설비와 시스템
    
- IT 인프라 영역
    
    서버, 네트워크, 스토리지, 로드 밸런서, 라우터 등 일반적인 IT 인프라 디바이스를 말한다.
    
- 운영 영역
    
    데이터센터를 운영 및 유지하는 인원
    

## 1.2.3 가용 영역 (Availability Zone)

- 한 개 이상의 데이터 센터들의 모음을 말한다.
- 각 데이터 센터는 분산되어 있으며, 초고속 광통신 전용망으로 연결되어있다.
- 서울 리전은 현재 4개의 가용 영역이 있다

## 1.2.4 리전 (Region)

- 해당 지리적인 영역 내에서 격리되고 물리적으로 분리된 여래 개의 가용 영역의 모듬을 말한다.
- 리전은 최소 2개의 가용 영역으로 구성되고 최대 6개의 가용 영역으로 구성된 리전도 존재한다.
- 물리적인 재난, 재해로 서비스 이용이 불가능 할 경우를 대비하여 가용 영역을 분산하여 구성하는 것을 권장한다.

## 1.2.5 엣지 (Edge)

- 외부 인터넷과 AWS 글로벌 네트워크망과 연결하는 별도의 센터이다.
- 엣지 로케이션 (Edge Location)과 리전별 엣지 캐시 (Regional Edge Cache)로 구성되며, Cloud Front와 같은 CDN 서비스의 데이터 캐시 기능을 제공한다.
- 백본 네트워크는 AWS 글로벌 네트워크망과 연결하여 중국 리전을 제외한 모든 AWS 리전과 연결된다.
- 서울 리전은 1개의 리전별 엣지 캐시와 4개의 엣지 로케이션으로 총 5개의 엣지가 구성되어있다.

## 1.2.6 AWS 인프라 구조

- 책 이미지 참고

# 1.3 AWS 제품

## 1.3.1 컴퓨팅 서비스

- EC2 (Elastic Compute Cloud)
    - 물리 환경의 서버 컴퓨터와 유사하게 컴퓨팅 리소스를 제공하는 서비스다.
    - 가장 머신으로 제공되며 인스턴스라고 부른다
    - 사용 목적에 따라 다양한 인스턴스와 타입과 스펙으로 구분되며, 사용한 만큼 비용을 지불한다.
- 오토 스케일링 (Auto Scaling)
    - EC2 인스턴스의 조건에 따라 자동으로 서버를 추가 혹은 제거를 해주는 서비스
- 람다 (AWS Lambda) - 서버리스 컴퓨팅
    - AWS가 컴퓨팅 엔진 전반을 관리하기 떄문에 사용자는 코드만으로 서비스를 실행할 수 있다.

## 1.3.3 스토리지 서비스

- EBS (Elastic Block Store)
    - 가용 영역내의 EC2 인스턴스에 연결되어 사용될 수 있는 블록 스토리지이다.
    - 필요 시 블록 스토리지를 생성하고 연결 할 수 있고, 용량 증가도 가능하다
- S3 (Simple Storage Service)
    - 객체 기반의 무제한 파일을 저장할 수 있는 스토리지. 사용자는 URL을 통해 손쉽게 파일 사용이 가능하다.

## 1.3.4 데이터베이스 서비스

- Amazon RDS (Relational Database Service)
    - 관계형 데이터베이스
    - 하드웨어 프로비저닝, 데이터베이스 설정, 패치 및 백업과 같은 시간 소모적인 관리 작업을 AWS 에서 처리 해준다.
- Amazon DynamoDB
    - 10밀리초 미만의 성능을 제공하는 키-값 및 NoSQL 데이터베이스 서비스이다.
    - 서버리스 서비스로서 사용자는 서버 전반에 운영 관리를 할 필요가 없다.

## 1.3.4 그 외 서비스

- AWS CloudFormation
    - 프로그래밍 언어나 텍스트 파일을 사용하여 AWS 리소스를 자동 배포할 수 있다.
- AWS CloudWatch
    - AWS 리소스 및 온프레미스의 자원을 모니터링 할 수 있는 서비스
    - 데이터를 수집하여 로그 저장 할 수 있으며, 특정 조건에 만족 시 알람을 제공한다.
    

# 2. AWS Network 소개

## 2.1 AWS VPC - 리소스 격리

- VPC(Virtual Private Cloud)는 AWS 클라우드 내 논리적으로 독립된 섹션을 제공하여, 사용자가 정의한 가상 네트워크상에서 다양한 AWS 리소스를 실행할 수 있게 지원한다.
- 독립된 가상의 클라우드 네트워크라 볼 수 있다

## 2.2 AWS VPN - 가상 사설망

- VPN (Virtual Private Network)은 공용 인터넷을 통해 가상의 사설 네트워크를 구성하여 프라이빗 통신을 제공한다.
- 데이터 암호화, 전용 연결 등 여러 보안 요구사항들을 충족 할 수 있다.

## 2.3 ELB - 로드 밸런서

- ELB (Elastic Load Balancing)는 서비스 대상 시스템에 데이터를 분산하여 전달하는 역활을 한다

## 2.4 AWS PrivateLink - 프라이빗 연결

- 퍼블릭 인터넷에 데이터가 노출되지 않도록 하고 내부 네트워크를 통해 AWS 서비스와 온프레미스 간에 안전한 비공개 연결을 제공한다.

## 2.5 Route 53 - 도메인 네임 시스템

- AWS 에서 제공하는 관리형 DNS 서비스이다.

## 2.6 AWS 전송 게이트웨이 - 네트워크 확장

- VPC나 온프레미스등의 네트워크를 단일 지점으로 연결할 수 있는 라우팅 서비스이다.

## 2.7 AWS Direct Connect - AWS 전용 연결

- 데이터 센터, 본사 사무실 또는 Co-Location 환경과 같은 장소에서 AWS와의 전용 네트워크 연결을 제공하는 전용선 서비스이다.

## 2.8 AWS CloudFront -CDN (콘텐츠 전송 / 캐시)

- AWS에서 제공하는 CDN 서비스이다.
- Cloud Front는 42개국 84개 도시에서 216개의 엣지 POP을 두고 AWS 글로벌 네트워크를 통하여 콘텐츠를 캐싱하여 서비스를 제공한다.

## 2.9 AWS Global Accelerator - 글로벌 전송

- 로컬 또는 글로벌 사용자를 대상으로 애플리케이션의 가용성과 성능을 개선할 수 있는 서비스이다.
- AWS의 글로벌 네트워크를 통해 사용자에서 애플리케이션으로 이러진 경로를 최적화 하여 트래픽의 성능을 개선한다.

## 2.10 네트워크 보안

- AWS의 네트워크 기반의 보안 기능으로 보안 그룹, 네트워크 ACL, 웹 방화벽이 있다.

# 5.1 CloudFormation 소개

## 5.1.1 CloudFormation 이란?

- AWS 인프라에 대해 코드로 개략적인 선언을 하는 방법
- 자신이 생성할 AWS 인프라 자원을 코드로 정의하여 자동으로 정의된 자원을 생성하거나 삭제할 수 있다.

- 템플릿
    
    AWS 인프라 자원을 코드로 정의한 파일 (JSON / YAML 형식의 코드)
    
- 스택 생성
    
    템플릿을 CLoudFormation에 업로드하여 스택을 생성할 수 있고 스택을 생성하면 템플릿에 적의된 AWS 인프라 자원에 대해 순서대로 자동 생성한다.
    
- 스택 삭제
    
    스팩 생성에 의해 생성된 AWS 인프라 자원을 순서대로 자동 삭제한다.
